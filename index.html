<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>FlashOffer · Setup</title>
<meta name="theme-color" content="#2a62ff">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="./styles.css">
<link rel="manifest" href="./manifest.webmanifest">
</head>
<body>
<div class="wrap">
  <div class="card" id="setup">
    <h1>FlashOffer · Create</h1>
    <div class="row">
      <div>
        <label for="title">Title</label>
        <input id="title" placeholder="Promotion / Slot" value="Special Offer">
      </div>
      <div>
        <label for="desc">Description (optional)</label>
        <input id="desc" placeholder="Short info for the customer">
      </div>
      <div class="row double">
        <div>
          <label for="item_name">Product/Service Name</label>
          <input id="item_name" placeholder="e.g., Andis Pro Clipper">
        </div>
        <div>
          <label for="item_url">Product/Service Link (URL)</label>
          <input id="item_url" placeholder="https://...">
        </div>
      </div>
      <div class="row double">
        <div>
          <label for="item_image">Image (URL, optional)</label>
          <input id="item_image" placeholder="https://...jpg">
        </div>
        <div>
          <label for="vendor">Vendor/Brand</label>
          <input id="vendor" placeholder="Cut or Die">
        </div>
      </div>
      <div>
        <label for="start">Start (local device time)</label>
        <input id="start" type="datetime-local">
      </div>
      <div class="row double">
        <div>
          <label for="dur">Duration (min)</label>
          <input id="dur" type="number" min="5" step="5" value="30">
        </div>
        <div>
          <label for="tz">Timezone</label>
          <select id="tz">
            <option>Europe/Warsaw</option>
            <option>Europe/Berlin</option>
            <option>Europe/Paris</option>
            <option>Europe/London</option>
            <option>Europe/Madrid</option>
          </select>
        </div>
      </div>
      <div class="row double">
        <div>
          <label for="qty">Quantity</label>
          <input id="qty" type="number" min="1" step="1" value="1">
        </div>
        <div>
          <label for="lang">Language</label>
          <select id="lang">
            <option value="pl">Polski</option>
            <option value="en" selected>English</option>
            <option value="de">Deutsch</option>
            <option value="fr">Français</option>
            <option value="es">Español</option>
          </select>
        </div>
      </div>
      <div>
        <label for="seller_email">Seller e-mail (notifications)</label>
        <input id="seller_email" type="email" placeholder="owner@example.com">
      </div>
      <div>
        <label for="lockurl">Lock URL (Apps Script)</label>
        <input id="lockurl" placeholder="https://script.google.com/macros/s/XXXX/exec">
      </div>
      <div>
        <label for="license_key">License key</label>
        <input id="license_key" placeholder="FO-PL-2025-XXXXX">
      </div>
      <div class="mut">
        Lock URL — your Web App address (Google Apps Script).<br>
        License key — activation key from the provider (required for operation).
      </div>
    </div>

    <div class="stack">
      <button class="btn" id="gen">Generate Link</button>
      <button class="btn inline" id="preview">Preview</button>
    </div>

    <div id="out" class="hid">
      <div class="line"></div>
      <div class="row">
        <div>
          <label for="link">Shareable link</label>
          <input id="link" readonly>
        </div>
      </div>
      <div class="row">
        <div>
          <label for="link_social">Social link</label>
          <input id="link_social" readonly>
        </div>
      </div>
      <div class="stack">
        <button class="btn inline" id="copy">Copy</button>
        <button class="btn inline" id="open">Open</button>
        <button class="btn inline" id="copy_social">Copy Social</button>
      </div>
      <div class="mut" style="margin-top:8px">
        Config is encrypted in <strong>#hash</strong>. Host via HTTPS (e.g., GitHub Pages).
      </div>
    </div>
  </div>
</div>

<script type="module">
  import { initSetupPage } from './app.js';
  initSetupPage();
</script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./service-worker.js');
  });
}
</script>
</body>
</html>
